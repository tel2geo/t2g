// JQUERY PROTOTYPE FOR VALIDATING THE FRENCH PHONE NUMBER
// COPYRIGHT - 2014 - 2017
// LICENSE : GNU GPL3
// AUTHOR: THIBAUT LOMBARD
$(function(){var t,e,n,r,i,a,u,l,c,s=[].slice;[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=jQuery,t.validnum={},t.validnum.fn={},t.fn.validnum=function(){var e,n;return n=arguments[0],e=2<=arguments.length?s.call(arguments,1):[],t.validnum.fn[n].apply(this,e)},l=function(e){var n,r;return n=t(e.target),e.metaKey||e.ctrlKey?!0:32===e.which?!1:0===e.which?!0:e.which<33?!0:(r=String.fromCharCode(e.which),!!/[\d\s]/.test(r))},u=function(e){var n,r;return n=t(e.target),e.metaKey||e.ctrlKey?!0:32===e.which?!1:0===e.which?!0:e.which<33?!0:(r=String.fromCharCode(e.which),!!/[\d\sA-Za-z]/.test(r))},i=function(t){var e;return null!=t.prop("selectionStart")&&t.prop("selectionStart")!==t.prop("selectionEnd")?!0:("undefined"!=typeof document&&null!==document&&null!=(e=document.selection)&&"function"==typeof e.createRange?e.createRange().text:void 0)?!0:!1},t.validnum.fn.restrictNumeric=function(){return this.on("keypress",l),this},t.validnum.fn.restrictAlphaNumeric=function(){return this.on("keypress",u),this},t.validnum.fn.hasTextSelected=i,t=jQuery,i=t.validnum.fn.hasTextSelected,t.validnum.fn.format_number=function(){var e;return e=t(this).data("validnum_length"),null!=e&&t(this).attr("maxLength",e),this.validnum("restrictNumeric"),this},t.validnum.fn.validate_number=function(){var e,n,r;if(e=t(this),r=e.val(),n=e.data("validnum_length"),null!=n&&"number"==typeof n&&r.length!==n)return!1;if(null!=n&&"string"==typeof n&&""!==n){if(isNaN(parseInt(n,10)))return!1;if(r.length!==parseInt(n,10))return!1}return/^\d+$/.test(r)},t=jQuery,i=t.validnum.fn.hasTextSelected,a=function(t){var e,n,r,i,a;return r=t.replace(/\D/g,"").match(/^(\d{0,2})?(\d{0,8})?$/),a=r,r=a[0],e=a[1],n=a[2],i="",null!=e&&(i+="("+e),2===(null!=e?e.length:void 0)&&(i+=")"),null!=n&&(i+=""+n),i},c=function(e){var n,r,a;return n=t(e.currentTarget),r=String.fromCharCode(e.which),/^\d+$/.test(r)&&!i(n)?(a=n.val()+r,a=a.replace(/\D/g,""),a.length>10?!1:void 0):void 0},r=function(e){var n,r,i,u;return r=String.fromCharCode(e.which),/^\d+$/.test(r)?(n=t(e.currentTarget),u=n.val()+r,i=a(u),e.preventDefault(),n.val(i)):void 0},e=function(e){var n,r;if(!e.meta&&(n=t(e.currentTarget),r=n.val(),8===e.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===r.length)))return/\(\d$/.test(r)?(e.preventDefault(),n.val("")):/\d\)(\s)+$/.test(r)?(e.preventDefault(),n.val(r.replace(/\d\)(\s)*$/,""))):/\d(\s|\-)+$/.test(r)?(e.preventDefault(),n.val(r.replace(/\d(\s|\-)+$/,""))):void 0},n=function(e){return setTimeout(function(){var n,r,i;return n=t(e.currentTarget),i=n.val(),r=a(i),n.val(r)})},t.validnum.fn.format_phone_number=function(){return this.validnum("restrictNumeric"),this.on("keypress",c),this.on("keypress",r),this.on("keydown",e),this.on("paste",n),this},t.validnum.fn.validate_phone_number=function(){var e;return e=t(this).val(),null==e?!1:(e=e.replace(/\(|\)|\s+|-/g,""),/^\d+$/.test(e)?10===e.replace(/\D/g,"").length:!1)},t=jQuery,i=t.validnum.fn.hasTextSelected}).call(this);
