// Copyright 2014 - 2017
// Thibaut LOMBARD
// contact : webmaster@tel2geo.fr 
function checknumerosimple(e){$("#infodebase").contents().remove(),$("#checknum").contents().remove(),$("#checkfai").contents().remove(),$("#checkfaifull").contents().remove(),$("#checkzne").contents().remove(),$("#checkgeo").contents().remove(),$.ajax({url:"https://api.tel2geo.fr/t2g/api/numero/"+e+"/mode/majnum/callback/",dataType:"jsonp",jsonp:"callback",success:function(e){var n=e.mnemo;checknum.innerHTML="<b>ID Numero :</b> "+e.idmajnum+"<br><b>EZABPQM :</b> "+e.ezabpqm+"<br><b>Tranche Début  :</b> "+e.tranche_debut+"<br><b>Tranche Fin  :</b> "+e.tranche_fin+"<br><b>Opérateur(abréviation)  :</b> "+e.mnemo+"<br><b>Territoire :</b> "+e.territoire+"<br><b>Date d'attribution  :</b> "+e.date_attribution,checkoperateur(n),checkoperateurfull(n)}})}function checkoperateur(e){$.ajax({url:"https://api.tel2geo.fr/t2g/api/codeoperateur/"+e+"/mode/operateur/callback/",dataType:"jsonp",jsonp:"callback",success:function(e){checkfai.innerHTML="<b>ID Code Opérateur :</b> "+e.idcodeoperateur+"<br><b>Code Opérateur:</b> "+e.codeoperateur+"<br><b>Société :</b> "+e.societe+"<br><b>Site Web :</b> "+e.siteweb+"<br>"}})}function checkoperateurfull(e){$.ajax({url:"https://api.tel2geo.fr/t2g/api/codeoperateur/"+e+"/mode/operateurfull/callback/",dataType:"jsonp",jsonp:"callback",success:function(e){checkfaifull.innerHTML="<b>ID Opérateur :</b> "+e.idoperateur+"<br><b>Code Opérateur:</b> "+e.codeoperateur+"<br><b>Identité Opérateur :</b> "+e.identiteoperateur+"<br><b>Siret Acteur :</b> "+e.siretacteur+"<br><b>Registre des Commerces et Sociétés :</b> "+e.rcsacteur+"<br><b>Addresse Complète acteur :</b> "+e.addresse_complete_acteur+"<br><b>Besoin en réseau numérique :</b> "+e.besoin_res_num}})}function checknumerofixe(e){$.ajax({url:"https://api.tel2geo.fr/t2g/api/numero/"+e+"/mode/majnum/callback/",dataType:"jsonp",jsonp:"callback",success:function(e){var n=e.mnemo;checknum.innerHTML="<b>ID Numero :</b> "+e.idmajnum+"<br><b>EZABPQM :</b> "+e.ezabpqm+"<br><b>Tranche Début  :</b> "+e.tranche_debut+"<br><b>Tranche Fin  :</b> "+e.tranche_fin+"<br><b>Opérateur(abréviation)  :</b> "+e.mnemo+"<br><b>Territoire :</b> "+e.territoire+"<br><b>Date d'attribution  :</b> "+e.date_attribution,checkoperateur(n),checkoperateurfull(n)}})}function checkzone(e){$.ajax({url:"https://api.tel2geo.fr/t2g/api/zabpq/"+e+"/mode/zabpqzne/callback/",dataType:"jsonp",jsonp:"callback",success:function(e){zone=e.zne,checkzne.innerHTML="<b>ID zabpq :</b> "+e.idzabpq+"<br><b>ZABPQ :</b> "+e.zabpq+"<br><b>ZNE :</b> "+e.zne,checkgeol(zone)}})}function checkgeol(e){$.ajax({url:"https://api.tel2geo.fr/t2g/api/codeinsee/"+e+"/mode/codepostaux/callback/",dataType:"jsonp",jsonp:"callback",success:function(e){checkgeo.innerHTML="<b>id code postal :</b> "+e.idcodepostaux+"<br><b>Code INSEE :</b> "+e.ccinsee+"<br><b>Commune :</b> "+e.commune+"<br><b>Code Postal :</b> "+e.codepostal+"<br><b>Libellé d'acheminement: </b>"+e.libelleacheminement+"<br><b>Latitude: </b>"+e.lat+"<br><b>Longitude: </b>"+e.lon+"<br><b>Ville, Département, Région, zone, Pays: </b>"+e.display_name+'<br><img src="https://maps.googleapis.com/maps/api/staticmap?center='+e.lat+","+e.lon+'&zoom=13&size=600x400&key=AIzaSyAQ1717RTjeHSTWJVchziflDGpoLpA-Uik" />'}})}function processnumero(e){var n=$("#results");$("#results").contents().remove(),n.html('<p id="infodebase"></p><p id="checknum"></p><p id="checkfai"></p><p id="checkfaifull"></p><p id="checkzne"></p><p id="checkgeo"></p>');var r=e.split(/[()]/).filter(function(e){return e.length>0}),i=r[0],c=e.replace(/[\])}[{(]/g,""),o=c.substring(1,6),t=document.getElementById("infodebase");document.getElementById("checknum"),document.getElementById("checkfai"),document.getElementById("checkfaifull"),document.getElementById("checkzne"),document.getElementById("checkgeo");"01"==i&&(ligne="Fixe",regiondef="Région île-de-France",t.innerHTML="<b>Ligne :</b> "+ligne+"<br><b>Indicateur région :</b> "+regiondef+"<br>",checknumerofixe(c),checkzone(o)),"02"==i&&(ligne="Fixe",regiondef="Région Nord-ouest, Réunion et Mayotte",t.innerHTML="<b>Ligne :</b> "+ligne+"<br><b>Indicateur région :</b> "+regiondef+"<br>",checknumerofixe(c),checkzone(o)),"03"==i&&(ligne="Fixe",regiondef="Région Nord-Est",t.innerHTML="<b>Ligne :</b> "+ligne+"<br><b>Indicateur région :</b> "+regiondef+"<br>",checknumerofixe(c),checkzone(o)),"04"==i&&(ligne="Fixe",regiondef="Région Sud-Est",t.innerHTML="<b>Ligne :</b> "+ligne+"<br><b>Indicateur région :</b> "+regiondef+"<br>",checknumerofixe(c),checkzone(o)),"05"==i&&(ligne="Fixe",regiondef="Région Sud-ouest, et DOM-COM de l'océan Atlantique",t.innerHTML="<b>Ligne :</b> "+ligne+"<br><b>Indicateur région :</b> "+regiondef+"<br>",checknumerofixe(c),checkzone(o)),"06"==i&&(ligne="Mobile",t.innerHTML="<b>Ligne :</b> "+ligne+"<br>",checknumerosimple(c)),"07"==i&&(ligne="Mobile",t.innerHTML="<b>Ligne :</b> "+ligne+"<br>",checknumerosimple(c)),"08"==i&&(ligne="Services à  valeur ajoutée : numéros à  tarification spéciale",t.innerHTML="<b>Ligne :</b> "+ligne+"<br>",checknumerosimple(c)),"09"==i&&(ligne="VOIP",t.innerHTML="<b>Ligne :</b> "+ligne+"<br>",checknumerosimple(c)),"00"==i&&(ligne="Appels internationaux",t.innerHTML="<b>Ligne :</b> "+ligne+"<br>",checknumerosimple(c)),i>="10"&&(ligne="Inconnu",t.innerHTML="<b>Ligne :</b> "+ligne+"<br>")}$(function(){$("#button-id").prop("disabled",!0),$("input.phone_number").validnum("format_phone_number").on("keyup change blur",function(e){$(this).validnum("validate_phone_number")?$("#button-id").prop("disabled",!1):$("#button-id").prop("disabled",!0)})});
